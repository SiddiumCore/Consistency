:root{
  --bg:#0b1021;
  --panel:#0f172a;
  --panel-2:#121a33;
  --text:#e5e7eb;
  --muted:#9ca3af;

  /* Habit colors */
  --med:#f59e0b;  /* meditation: orange */
  --walk:#10b981; /* walk: green */
  --vit:#7c3aed;  /* vitamin: purple */

  --accent:#22d3ee;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Arial;
  background:
    radial-gradient(1200px 600px at 70% -10%, #152047, transparent 60%),
    radial-gradient(900px 500px at 0% 100%, #0b1940, transparent 60%),
    var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
}
#app{max-width:980px;margin:0 auto;padding:20px 16px 80px}

/* Glass panels */
.glass{
  background: rgba(15, 23, 42, 0.55);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(12px) saturate(120%);
  -webkit-backdrop-filter: blur(12px) saturate(120%);
}

.topbar{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
  padding:12px 14px;border-radius:14px; position:sticky; top:10px; z-index:10;
}
.brand{display:flex;align-items:center;gap:10px}
.brand .dot{width:10px;height:10px;border-radius:50%;
  background:conic-gradient(from 180deg,var(--med),var(--walk),var(--vit))}
.brand h1{font-size:18px;margin:0;font-weight:700;letter-spacing:.2px}

.streaks{display:flex;gap:16px;flex-wrap:wrap}
.streak{display:flex;flex-direction:column;gap:2px}
.streak .label{font-size:12px;color:var(--muted)}
.streak .value{font-size:20px;font-weight:800;background:linear-gradient(90deg,var(--accent),#8b5cf6);-webkit-background-clip:text;background-clip:text;color:transparent}

.hero{margin:20px 0}
.hero-card{
  border-radius:18px;padding:24px;
  box-shadow:0 20px 50px rgba(0,0,0,0.35);
}
.hero-card h2{margin:0 0 8px 0;font-size:22px}
.status-row{display:flex;align-items:center;gap:10px;margin-bottom:18px}
#status-icon{width:18px;height:18px;border-radius:50%;box-shadow:0 0 0 0 rgba(34,211,238,0);transition:box-shadow .3s ease}
.status-glow{box-shadow:0 0 0 10px rgba(34,211,238,0.12)}
.hero-card p{margin:0;color:var(--muted)}

.cta-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
.big-cta{
  flex:1 1 260px; min-height:86px;
  border:none;border-radius:14px;cursor:pointer; padding:16px 18px;text-align:left;
  color:white; font-size:22px; font-weight:800; position:relative; overflow:hidden;
  transition:transform .06s ease, box-shadow .2s ease, opacity .2s ease;
  box-shadow: 0 10px 24px rgba(0,0,0,0.30), inset 0 0 0 rgba(255,255,255,0);
}
.big-cta .sub{display:block;font-size:12px;font-weight:600;color:rgba(255,255,255,0.85)}
.big-cta:hover{transform:translateY(-2px); box-shadow:0 14px 28px rgba(0,0,0,0.32)}
.big-cta:active{box-shadow:0 6px 16px rgba(0,0,0,0.35), inset 0 0 12px rgba(255,255,255,0.12)}
.big-cta.med{background:linear-gradient(135deg,#fb923c,var(--med))}
.big-cta.walk{background:linear-gradient(135deg,#059669,var(--walk))}
.big-cta.vitamin{background:linear-gradient(135deg,#6d28d9,var(--vit))}
.big-cta.completed{opacity:0.92; filter:saturate(115%)}

.milestone{
  margin-top:12px; font-weight:700; color:#facc15; display:none;
}

.calendar-wrap{
  margin:26px 0 10px 0; padding:18px; border-radius:18px;
}
.calendar-controls{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:10px}
.calendar-controls h3{margin:0;font-size:18px}
.nav-btn{
  background:#0b1021;border:1px solid rgba(255,255,255,0.08); color:#cbd5e1;
  padding:8px 10px;border-radius:10px;cursor:pointer;transition:background .15s ease, transform .1s ease
}
.nav-btn:hover{background:#0d1327; transform:translateY(-1px)}

.legend{display:flex;gap:16px;justify-content:center;color:var(--muted);font-size:12px;margin:6px 0 14px}
.legend .dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px}
.dot-med{background:var(--med)}
.dot-walk{background:var(--walk)}
.dot-vit{background:var(--vit)}

.calendar{
  display:grid;grid-template-columns:repeat(7,1fr); gap:8px;
}
.weekday{font-size:11px;color:#94a3b8;text-align:center;margin-bottom:6px}

/* Day cells with animated heat tints when completed */
@keyframes shimmer {
  0% { transform: translateX(-30%); opacity: .6; }
  50% { opacity: .9; }
  100% { transform: translateX(30%); opacity: .6; }
}
.day{
  aspect-ratio:1 / 1; border-radius:12px; padding:8px 8px 6px 8px;
  background:#0b1021; border:1px solid rgba(255,255,255,0.06); position:relative; overflow:hidden;
  transition: transform .12s ease, box-shadow .16s ease, background .2s ease;
  isolation:isolate;
}
.day:hover{ transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,0.28); }
.day .dnum{font-size:12px;color:#94a3b8}

/* Animated tint overlays */
.day.tint-med::before,
.day.tint-walk::before,
.day.tint-vit::before,
.day.tint-mix::before{
  content:""; position:absolute; inset:0; z-index:-1; pointer-events:none;
  background: transparent;
  opacity: 0.22;
}
.day.tint-med::before{
  background:
    linear-gradient(180deg, rgba(245,158,11,0.18), transparent 45%),
    radial-gradient(40% 20% at 20% 0%, rgba(245,158,11,0.18), transparent 70%);
}
.day.tint-walk::before{
  background:
    linear-gradient(180deg, rgba(16,185,129,0.18), transparent 45%),
    radial-gradient(40% 20% at 20% 0%, rgba(16,185,129,0.18), transparent 70%);
}
.day.tint-vit::before{
  background:
    linear-gradient(180deg, rgba(124,58,237,0.18), transparent 45%),
    radial-gradient(40% 20% at 20% 0%, rgba(124,58,237,0.18), transparent 70%);
}
.day.tint-mix::before{
  background:
    linear-gradient(180deg, rgba(245,158,11,0.16), transparent 50%),
    linear-gradient(180deg, rgba(16,185,129,0.16), transparent 55%),
    linear-gradient(180deg, rgba(124,58,237,0.16), transparent 60%);
}
.day.tint-animated::after{
  content:""; position:absolute; inset:-10% -40%; height:120%; width:60%;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.06), rgba(255,255,255,0));
  transform: rotate(25deg);
  animation: shimmer 3.6s ease-in-out infinite;
  mix-blend-mode: overlay;
  z-index:-1;
}

.day .badges{
  position:absolute; right:6px; bottom:6px;
  display:flex; flex-direction:column; gap:5px; align-items:flex-end;
}
.badge{width:10px;height:10px;border-radius:50%; transform: scale(0.9); transition: transform .14s ease}
.badge.added{ transform: scale(1.2); }
.badge.med{background:var(--med)}
.badge.walk{background:var(--walk)}
.badge.vit{background:var(--vit)}
.day.today{outline:2px solid var(--accent); outline-offset:0}

/* Stats */
.stats{display:grid;grid-template-columns:repeat(3,1fr); gap:12px}
.stat-card{
  border-radius:16px; padding:16px;
}
.stat-card h4{margin:0 0 12px 0}
.numbers{display:flex;justify-content:space-between}
.small{font-size:12px;color:var(--muted)}
.big{font-size:24px;font-weight:800}

.controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:16px}
.ghost{
  background:transparent;color:#cbd5e1;border:1px solid rgba(255,255,255,0.15);
  border-radius:12px;padding:10px 14px;cursor:pointer;transition:background .15s ease, transform .1s ease
}
.ghost:hover{background:rgba(255,255,255,0.04); transform:translateY(-1px)}

footer{margin-top:22px;color:var(--muted);text-align:center;font-size:12px}

@media (max-width:900px){
  .stats{grid-template-columns:1fr 1fr}
}
@media (max-width:700px){
  .streaks{display:none}
  .stats{grid-template-columns:1fr}
}

/* CSS-ONLY PREMIUM CONFETTI */
.confetti-layer{
  position: fixed;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 9999;
  opacity: 0;
  transition: opacity .15s ease;
}
.confetti-layer.active{ opacity: 1; }

/* Particle base */
.confetti{
  position: absolute;
  top: -10px;
  left: 50%;
  width: 10px;
  height: 18px;
  opacity: 0;
  transform-origin: center;
  border-radius: 2px;
}

/* Colors */
.c1,.c6,.c11,.c16,.c21,.c26,.c31,.c36,.c41,.c46 { background: #f59e0b; }
.c2,.c7,.c12,.c17,.c22,.c27,.c32,.c37,.c42,.c47 { background: #10b981; }
.c3,.c8,.c13,.c18,.c23,.c28,.c33,.c38,.c43,.c48 { background: #7c3aed; }
.c4,.c9,.c14,.c19,.c24,.c29,.c34,.c39,.c44,.c49 { background: #ffffff; }
.c5,.c10,.c15,.c20,.c25,.c30,.c35,.c40,.c45,.c50 { background: #93c5fd; }

/* Size variety */
.c1,.c3,.c5,.c7,.c9,.c11,.c13,.c15,.c17,.c19 { width: 6px; height: 12px; }
.c2,.c4,.c6,.c8,.c10,.c12,.c14,.c16,.c18,.c20 { width: 8px; height: 14px; }
.c21,.c22,.c23,.c24,.c25 { width: 12px; height: 20px; }

/* Motion */
@keyframes fallSpin {
  0% { transform: translate(var(--x,0), -20px) rotate(0deg); opacity: 1; }
  70% { opacity: 1; }
  100% { transform: translate(var(--xEnd,0), 110vh) rotate(var(--rot,720deg)); opacity: 0; }
}
@keyframes drift {
  0% { transform: translateX(0); }
  50% { transform: translateX(12px); }
  100% { transform: translateX(0); }
}

.confetti{
  animation: fallSpin var(--dur,1600ms) cubic-bezier(.2,.7,.2,1) forwards,
             drift 1800ms ease-in-out infinite;
  animation-delay: var(--delay,0ms);
}

/* Paths */
.c1{ --x:-45vw; --xEnd:-40vw; --rot:680deg; --dur:1700ms; --delay:0ms; }
.c2{ --x:-35vw; --xEnd:-30vw; --rot:720deg; --dur:1650ms; --delay:40ms; }
.c3{ --x:-25vw; --xEnd:-20vw; --rot:760deg; --dur:1600ms; --delay:80ms; }
.c4{ --x:-15vw; --xEnd:-10vw; --rot:800deg; --dur:1750ms; --delay:120ms; }
.c5{ --x:-5vw;  --xEnd:-2vw;  --rot:820deg; --dur:1680ms; --delay:160ms; }
.c6{ --x:5vw;   --xEnd:2vw;   --rot:700deg; --dur:1660ms; --delay:100ms; }
.c7{ --x:15vw;  --xEnd:10vw;  --rot:740deg; --dur:1720ms; --delay:140ms; }
.c8{ --x:25vw;  --xEnd:20vw;  --rot:760deg; --dur:1640ms; --delay:180ms; }
.c9{ --x:35vw;  --xEnd:30vw;  --rot:800deg; --dur:1760ms; --delay:220ms; }
.c10{--x:45vw;  --xEnd:40vw;  --rot:840deg; --dur:1700ms; --delay:260ms; }

.c11{ --x:-42vw; --xEnd:-39vw; --rot:690deg; --dur:1680ms; --delay:60ms; }
.c12{ --x:-32vw; --xEnd:-28vw; --rot:730deg; --dur:1580ms; --delay:100ms; }
.c13{ --x:-22vw; --xEnd:-18vw; --rot:770deg; --dur:1650ms; --delay:140ms; }
.c14{ --x:-12vw; --xEnd:-9vw;  --rot:810deg; --dur:1620ms; --delay:180ms; }
.c15{ --x:-2vw;  --xEnd:-1vw;  --rot:850deg; --dur:1550ms; --delay:220ms; }
.c16{ --x:8vw;   --xEnd:6vw;   --rot:710deg; --dur:1600ms; --delay:260ms; }
.c17{ --x:18vw;  --xEnd:14vw;  --rot:750deg; --dur:1700ms; --delay:300ms; }
.c18{ --x:28vw;  --xEnd:24vw;  --rot:790deg; --dur:1620ms; --delay:340ms; }
.c19{ --x:38vw;  --xEnd:34vw;  --rot:830deg; --dur:1680ms; --delay:380ms; }
.c20{ --x:48vw;  --xEnd:44vw;  --rot:870deg; --dur:1600ms; --delay:420ms; }

.c21{ --x:-48vw; --xEnd:-46vw; --rot:900deg; --dur:1850ms; --delay:0ms; }
.c22{ --x:-28vw; --xEnd:-24vw; --rot:880deg; --dur:1900ms; --delay:80ms; }
.c23{ --x:-8vw;  --xEnd:-6vw;  --rot:920deg; --dur:1950ms; --delay:160ms; }
.c24{ --x:12vw;  --xEnd:9vw;   --rot:900deg; --dur:1880ms; --delay:240ms; }
.c25{ --x:32vw;  --xEnd:29vw;  --rot:940deg; --dur:1980ms; --delay:320ms; }
.c26{ --x:42vw;  --xEnd:40vw;  --rot:980deg; --dur:1920ms; --delay:400ms; }
.c27{ --x:-38vw; --xEnd:-36vw; --rot:950deg; --dur:1860ms; --delay:200ms; }
.c28{ --x:-18vw; --xEnd:-15vw; --rot:990deg; --dur:1920ms; --delay:280ms; }
.c29{ --x:2vw;   --xEnd:0vw;   --rot:970deg; --dur:2000ms; --delay:360ms; }
.c30{ --x:22vw;  --xEnd:19vw;  --rot:1010deg;--dur:1940ms; --delay:440ms; }

.c31{ --x:-44vw; --xEnd:-40vw; --rot:860deg; --dur:1680ms; --delay:60ms; }
.c32{ --x:-26vw; --xEnd:-22vw; --rot:900deg; --dur:1740ms; --delay:120ms; }
.c33{ --x:-6vw;  --xEnd:-4vw;  --rot:940deg; --dur:1800ms; --delay:180ms; }
.c34{ --x:14vw;  --xEnd:12vw;  --rot:980deg; --dur:1760ms; --delay:240ms; }
.c35{ --x:34vw;  --xEnd:30vw;  --rot:1020deg;--dur:1820ms; --delay:300ms; }
.c36{ --x:44vw;  --xEnd:42vw;  --rot:1060deg;--dur:1880ms; --delay:360ms; }
.c37{ --x:-34vw; --xEnd:-30vw; --rot:880deg; --dur:1700ms; --delay:90ms; }
.c38{ --x:-16vw; --xEnd:-12vw; --rot:920deg; --dur:1760ms; --delay:150ms; }
.c39{ --x:4vw;   --xEnd:2vw;   --rot:960deg; --dur:1820ms; --delay:210ms; }
.c40{ --x:24vw;  --xEnd:22vw;  --rot:1000deg;--dur:1880ms; --delay:270ms; }

.c41{ --x:-46vw; --xEnd:-42vw; --rot:900deg; --dur:1780ms; --delay:100ms; }
.c42{ --x:-24vw; --xEnd:-20vw; --rot:940deg; --dur:1840ms; --delay:160ms; }
.c43{ --x:-4vw;  --xEnd:-2vw;  --rot:980deg; --dur:1900ms; --delay:220ms; }
.c44{ --x:16vw;  --xEnd:14vw;  --rot:1020deg;--dur:1960ms; --delay:280ms; }
.c45{ --x:36vw;  --xEnd:34vw;  --rot:1060deg;--dur:2020ms; --delay:340ms; }
.c46{ --x:46vw;  --xEnd:44vw;  --rot:1100deg;--dur:2080ms; --delay:400ms; }
.c47{ --x:-36vw; --xEnd:-32vw; --rot:920deg; --dur:1800ms; --delay:180ms; }
.c48{ --x:-14vw; --xEnd:-10vw; --rot:960deg; --dur:1860ms; --delay:240ms; }
.c49{ --x:6vw;   --xEnd:4vw;   --rot:1000deg;--dur:1920ms; --delay:300ms; }
.c50{ --x:26vw;  --xEnd:24vw;  --rot:1040deg;--dur:1980ms; --delay:360ms; }
